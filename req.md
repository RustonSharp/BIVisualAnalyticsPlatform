# BI 数据可视化与分析平台

## 📌 需求说明

开发轻量级 BI 工具，支持连接多数据源（数据库 / CSV / API），通过拖拽式配置生成仪表盘（趋势图、对比图、统计表格），解决 “数据快速分析 + 可视化展示” 的通用需求。

- 针对业务人员需要分析数据但缺乏技术能力（如不会写 SQL、不懂可视化工具）的问题，开发轻量级 BI 平台，解决 “数据接入难、图表制作复杂、交互性差” 的问题。
- 数据源接入需简单易用：
  - 支持点击上传本地文件（CSV / Excel）
  - 填写连接信息接入数据库（PostgreSQL / MySQL）
  - 输入 API 地址获取接口数据
  - 自动识别字段类型（文本 / 数字 / 日期）
- 图表制作需拖拽式操作：
  - 用户无需代码，通过拖拽字段至 “X 轴 / Y 轴” 生成图表
  - 支持图表类型：折线图 / 柱状图 / 饼图 / 表格等
  - 可自定义样式（颜色、标题、图例）
  - 支持图表联动（点击 A 图表的某数据点，B 图表自动筛选对应数据）
- 交互功能需提升分析效率：
  - 支持时间范围筛选（如 “近 30 天”）
  - 支持数据下钻（如从 “全国销量” 点击钻取至 “省份销量”）
  - 支持指标计算（自动计算平均值 / 总和 / 占比）
- 输出需支持多场景：
  - 仪表盘可导出为图片 / PDF 分享
  - 生成可本地运行的 HTML 文件
  - 支持定时刷新（如每小时更新一次数据）
- 核心目标：让非技术人员 “零代码” 完成数据可视化与分析，适配业务监控、会议汇报等场景。

---

## 🧪 技术要求

- **编程语言**：Python
- **核心库**：
  - 可视化：`plotly` / `matplotlib`（图表生成）、`plotly-dash`（交互式仪表盘）
  - 数据源：`pandas`（CSV / Excel）、`psycopg2`（PostgreSQL）、`sqlalchemy`（多数据库连接）

---

## ⚙️ 功能模块

- **数据源接入**：
  - 支持本地文件（CSV / Excel）
  - 支持关系型数据库（PostgreSQL / MySQL）
  - 支持 REST API 数据导入
- **图表类型**：
  - 折线图（趋势）
  - 柱状图（对比）
  - 饼图（占比）
  - 表格（明细）
- **交互能力**：
  - 图表联动（点击 A 图表筛选 B 图表数据）
  - 时间范围筛选
  - 数据下钻
- **导出分享**：
  - 仪表盘导出为图片 / PDF
  - 生成可分享链接或本地 HTML 文件

---

## 📁 输出结果示例

- BI 仪表盘应用：`bi_dashboard.py`（Dash 实现，支持本地运行）
- 数据源配置：`datasource_config.yaml`（数据源连接信息、字段映射）
- 图表配置示例：`chart_config.json`（可复用的图表样式 / 筛选规则）

---

## ✅ 考核要点

- **易用性**：非技术人员可通过界面完成数据源接入、图表配置
- **性能**：100 万条数据下，图表加载时间 ≤ 3 秒
- **兼容性**：至少支持 2 类数据源（如 CSV + PostgreSQL）、5 种图表类型

---

## 🌟 加分项

- 支持实时数据更新（如每 5 分钟刷新一次数据）
- 实现异常数据标记（如超出阈值的数据标红提醒）

---

## ⚠️ 扣分点

- 图表样式硬编码（修改颜色 / 标题需改代码）
- 无交互能力（静态图表，无法筛选 / 下钻）

# 交付标准（参考但不限于以下规则）

## 1. 封装形式
- 核心功能以 **Python Package** 形式交付（如 `doc_parser-1.0.0.tar.gz`），包含模块化代码、配置模板、示例脚本。  

## 2. 接口设计
- 所有功能通过 **函数 / 类方法** 暴露，输入输出严格标准化（如输入为 `dict/Path`，输出为 `dict/标准化文件路径`）。  
- 配置通过 **YAML/JSON 文件** 或环境变量传入，避免硬编码（如 `config.yaml` 定义数据库连接、工具参数）。

## 3. 复用保障
- 无业务相关依赖，仅依赖通用库（如 `pandas` / `requests`），通过 `requirements.txt` 明确依赖版本。  
- 提供详细文档：API 说明、配置示例、集成案例（如 *如何在 Django 项目中调用 OCR 模块*）。

---