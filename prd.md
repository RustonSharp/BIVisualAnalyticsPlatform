# BI æ•°æ®å¯è§†åŒ–ä¸åˆ†æå¹³å° - äº§å“éœ€æ±‚æ–‡æ¡£ (PRD)

## ğŸ“‹ æ–‡æ¡£ä¿¡æ¯

| é¡¹ç›®åç§° | BI Visual Analytics Platform |
|---------|------------------------------|
| æ–‡æ¡£ç‰ˆæœ¬ | v1.0 |
| åˆ›å»ºæ—¥æœŸ | 2025-11-10 |
| è´Ÿè´£äºº | æ¶æ„å›¢é˜Ÿ |
| çŠ¶æ€ | å¾…è¯„å®¡ |

---

## 1. äº§å“æ¦‚è¿°

### 1.1 äº§å“å®šä½
é¢å‘éæŠ€æœ¯ä¸šåŠ¡äººå‘˜çš„è½»é‡çº§ BI æ•°æ®åˆ†æä¸å¯è§†åŒ–å¹³å°ï¼Œé€šè¿‡é›¶ä»£ç æ‹–æ‹½å¼æ“ä½œï¼Œå®ç°å¤šæ•°æ®æºæ¥å…¥ã€äº¤äº’å¼å›¾è¡¨ç”Ÿæˆå’Œä»ªè¡¨ç›˜é…ç½®ï¼Œè§£å†³ä¸­å°ä¼ä¸šå’Œä¸šåŠ¡éƒ¨é—¨"æ•°æ®åˆ†æé—¨æ§›é«˜ã€å¯è§†åŒ–å·¥å…·å¤æ‚"çš„ç—›ç‚¹ã€‚

### 1.2 ç›®æ ‡ç”¨æˆ·
- **ä¸»è¦ç”¨æˆ·**ï¼šä¸šåŠ¡åˆ†æå¸ˆã€è¿è¥äººå‘˜ã€äº§å“ç»ç†ç­‰éæŠ€æœ¯å²—ä½
- **æ¬¡è¦ç”¨æˆ·**ï¼šæ•°æ®åˆ†æå¸ˆï¼ˆéœ€å¿«é€ŸåŸå‹éªŒè¯ï¼‰ã€ä¸­å°ä¼ä¸šå†³ç­–è€…

### 1.3 æ ¸å¿ƒä»·å€¼
- **é™ä½é—¨æ§›**ï¼šé›¶ SQLã€é›¶ç¼–ç¨‹ï¼Œ3 æ­¥å®Œæˆæ•°æ®æ¥å…¥åˆ°å¯è§†åŒ–
- **æå‡æ•ˆç‡**ï¼šæ‹–æ‹½å¼æ“ä½œï¼Œ5 åˆ†é’Ÿç”Ÿæˆä¸“ä¸šä»ªè¡¨ç›˜
- **çµæ´»å¤ç”¨**ï¼šé…ç½®åŒ–è®¾è®¡ï¼Œæ”¯æŒæ¨¡æ¿ä¿å­˜ä¸è·¨é¡¹ç›®å¤ç”¨

### 1.4 äº§å“è¾¹ç•Œ
- **åšä»€ä¹ˆ**ï¼šæ•°æ®å¯è§†åŒ–ã€åŸºç¡€åˆ†æï¼ˆèšåˆ/ç­›é€‰/ä¸‹é’»ï¼‰ã€ä»ªè¡¨ç›˜é…ç½®
- **ä¸åšä»€ä¹ˆ**ï¼šå¤æ‚ ETLã€æœºå™¨å­¦ä¹ å»ºæ¨¡ã€ä¼ä¸šçº§æƒé™ç®¡ç†

---

## 2. åŠŸèƒ½éœ€æ±‚

### 2.1 æ•°æ®æºç®¡ç†

#### 2.1.1 æ•°æ®æºæ¥å…¥
**ä¼˜å…ˆçº§**ï¼šP0ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰

| æ•°æ®æºç±»å‹ | æ¥å…¥æ–¹å¼ | åŠŸèƒ½æè¿° |
|-----------|---------|---------|
| **æœ¬åœ°æ–‡ä»¶** | æ‹–æ‹½ä¸Šä¼  | æ”¯æŒ CSVã€Excelï¼ˆ.xls/.xlsxï¼‰ï¼Œè‡ªåŠ¨è§£æå‰ 1000 è¡Œé¢„è§ˆ |
| **å…³ç³»å‹æ•°æ®åº“** | è¡¨å•é…ç½® | æ”¯æŒ PostgreSQLã€MySQLï¼Œå¡«å†™ä¸»æœº/ç«¯å£/ç”¨æˆ·å/å¯†ç /æ•°æ®åº“å |
| **REST API** | URL è¾“å…¥ | æ”¯æŒ JSON/XML æ ¼å¼ï¼Œæ”¯æŒ GET/POST è¯·æ±‚ï¼Œå¯é…ç½® Headers/å‚æ•° |

**äº¤äº’æµç¨‹**ï¼š
```
ç”¨æˆ·æ“ä½œï¼š[é€‰æ‹©æ•°æ®æºç±»å‹] â†’ [å¡«å†™è¿æ¥ä¿¡æ¯/ä¸Šä¼ æ–‡ä»¶] â†’ [æµ‹è¯•è¿æ¥] â†’ [é¢„è§ˆæ•°æ®] â†’ [ä¿å­˜é…ç½®]
ç³»ç»Ÿåé¦ˆï¼šè¿æ¥æˆåŠŸ/å¤±è´¥æç¤ºã€æ•°æ®é¢„è§ˆè¡¨æ ¼ã€å­—æ®µç±»å‹è‡ªåŠ¨è¯†åˆ«
```

**æŠ€æœ¯å®ç°**ï¼š
- æ–‡ä»¶è§£æï¼š`pandas.read_csv()` / `pandas.read_excel()`
- æ•°æ®åº“è¿æ¥ï¼š`SQLAlchemy` ç»Ÿä¸€æ¥å£ï¼Œè¿æ¥æ± ç®¡ç†
- API æ•°æ®ï¼š`requests` + `pandas.json_normalize()` æ‰å¹³åŒ–å¤„ç†

#### 2.1.2 å­—æ®µæ˜ å°„ä¸ç±»å‹è¯†åˆ«
**ä¼˜å…ˆçº§**ï¼šP0

- **è‡ªåŠ¨è¯†åˆ«è§„åˆ™**ï¼š
  - æ•°å­—ç±»å‹ï¼šçº¯æ•°å­—æˆ–å¸¦å°æ•°ç‚¹
  - æ—¥æœŸç±»å‹ï¼šç¬¦åˆ `YYYY-MM-DD`ã€`YYYY/MM/DD HH:MM:SS` ç­‰æ ¼å¼
  - æ–‡æœ¬ç±»å‹ï¼šå…¶ä»–æƒ…å†µé»˜è®¤ä¸ºæ–‡æœ¬
- **æ‰‹åŠ¨è°ƒæ•´**ï¼šç”¨æˆ·å¯ä¿®æ”¹å­—æ®µç±»å‹ã€è®¾ç½®å­—æ®µåˆ«å
- **æ ¡éªŒæœºåˆ¶**ï¼šç±»å‹è½¬æ¢å¤±è´¥æ—¶æ ‡è®°å¼‚å¸¸è¡Œï¼Œå…è®¸å¿½ç•¥æˆ–æ›¿æ¢ä¸ºç©ºå€¼

#### 2.1.3 æ•°æ®æºç®¡ç†åˆ—è¡¨
**ä¼˜å…ˆçº§**ï¼šP1

- æ”¯æŒæŸ¥çœ‹æ‰€æœ‰å·²é…ç½®æ•°æ®æºï¼ˆè¡¨æ ¼å±•ç¤ºï¼šåç§°/ç±»å‹/çŠ¶æ€/æœ€åæ›´æ–°æ—¶é—´ï¼‰
- æ”¯æŒç¼–è¾‘ã€åˆ é™¤ã€æµ‹è¯•è¿æ¥
- æ”¯æŒå¯¼å…¥/å¯¼å‡ºæ•°æ®æºé…ç½®ï¼ˆYAML æ ¼å¼ï¼‰

---

### 2.2 å›¾è¡¨é…ç½®ä¸ç”Ÿæˆ

#### 2.2.1 æ‹–æ‹½å¼å›¾è¡¨é…ç½®
**ä¼˜å…ˆçº§**ï¼šP0

**äº¤äº’æ–¹å¼**ï¼š
- å·¦ä¾§ï¼šå­—æ®µåˆ—è¡¨ï¼ˆå¯æ‹–æ‹½ï¼‰
- ä¸­é—´ï¼šé…ç½®åŒºï¼ˆX è½´/Y è½´/åˆ†ç»„/ç­›é€‰å™¨æ‹–æ”¾åŒºï¼‰
- å³ä¾§ï¼šå®æ—¶å›¾è¡¨é¢„è§ˆ

**æ”¯æŒçš„å›¾è¡¨ç±»å‹**ï¼ˆV1.0ï¼‰ï¼š

| å›¾è¡¨ç±»å‹ | é€‚ç”¨åœºæ™¯ | å¿…éœ€å­—æ®µ |
|---------|---------|---------|
| **æŠ˜çº¿å›¾** | æ—¶é—´è¶‹åŠ¿åˆ†æ | X è½´ï¼ˆæ—¥æœŸ/æ—¶é—´ï¼‰ã€Y è½´ï¼ˆæ•°å€¼ï¼‰ |
| **æŸ±çŠ¶å›¾** | ç±»åˆ«å¯¹æ¯” | X è½´ï¼ˆåˆ†ç±»ï¼‰ã€Y è½´ï¼ˆæ•°å€¼ï¼‰ |
| **é¥¼å›¾** | å æ¯”åˆ†æ | åˆ†ç±»å­—æ®µã€æ•°å€¼å­—æ®µ |
| **è¡¨æ ¼** | æ˜ç»†æ•°æ®å±•ç¤º | ä»»æ„å­—æ®µ |
| **ç»„åˆå›¾** | å¤šæŒ‡æ ‡å¯¹æ¯” | X è½´ï¼ˆå…±äº«ï¼‰ã€å¤šä¸ª Y è½´ï¼ˆä¸åŒç±»å‹ï¼‰ |

**é…ç½®é¡¹**ï¼š
- **æ•°æ®ç»´åº¦**ï¼šæ‹–æ‹½å­—æ®µè‡³ X/Y è½´ã€åˆ†ç»„ã€é¢œè‰²ã€å¤§å°
- **èšåˆå‡½æ•°**ï¼šæ±‚å’Œ/å¹³å‡å€¼/è®¡æ•°/æœ€å¤§å€¼/æœ€å°å€¼
- **æ’åºè§„åˆ™**ï¼šå‡åº/é™åºã€Top N ç­›é€‰
- **æ ·å¼å®šåˆ¶**ï¼š
  - é¢œè‰²ä¸»é¢˜ï¼ˆé¢„è®¾ 5 å¥—é…è‰²æ–¹æ¡ˆï¼‰
  - å›¾è¡¨æ ‡é¢˜ã€åæ ‡è½´æ ‡ç­¾
  - å›¾ä¾‹ä½ç½®ï¼ˆé¡¶éƒ¨/åº•éƒ¨/å·¦ä¾§/å³ä¾§ï¼‰
  - æ•°æ®æ ‡ç­¾æ˜¾ç¤ºå¼€å…³

#### 2.2.2 æ™ºèƒ½æ¨èï¼ˆåŠ åˆ†é¡¹ï¼‰
**ä¼˜å…ˆçº§**ï¼šP2

- æ ¹æ®å­—æ®µç±»å‹è‡ªåŠ¨æ¨èå›¾è¡¨ç±»å‹ï¼š
  - 1 ä¸ªæ—¥æœŸå­—æ®µ + 1 ä¸ªæ•°å€¼å­—æ®µ â†’ æ¨èæŠ˜çº¿å›¾
  - 1 ä¸ªåˆ†ç±»å­—æ®µ + 1 ä¸ªæ•°å€¼å­—æ®µ â†’ æ¨èæŸ±çŠ¶å›¾/é¥¼å›¾
  - å¤šä¸ªæ•°å€¼å­—æ®µ â†’ æ¨èè¡¨æ ¼

---

### 2.3 äº¤äº’å¼åˆ†æ

#### 2.3.1 æ—¶é—´èŒƒå›´ç­›é€‰
**ä¼˜å…ˆçº§**ï¼šP0

- **å¿«æ·é€‰é¡¹**ï¼šä»Šå¤©/æ˜¨å¤©/è¿‘ 7 å¤©/è¿‘ 30 å¤©/æœ¬æœˆ/ä¸Šæœˆ
- **è‡ªå®šä¹‰èŒƒå›´**ï¼šæ—¥æœŸé€‰æ‹©å™¨ï¼ˆèµ·å§‹æ—¥æœŸ - ç»“æŸæ—¥æœŸï¼‰
- **åŠ¨æ€æ›´æ–°**ï¼šç­›é€‰åæ‰€æœ‰å…³è”å›¾è¡¨è‡ªåŠ¨åˆ·æ–°

#### 2.3.2 å›¾è¡¨è”åŠ¨
**ä¼˜å…ˆçº§**ï¼šP1

**è§¦å‘æ–¹å¼**ï¼š
- ç‚¹å‡»å›¾è¡¨ä¸­çš„æ•°æ®ç‚¹/æŸ±å½¢/æ‰‡åŒº
- ç³»ç»Ÿè‡ªåŠ¨ç­›é€‰å…¶ä»–å›¾è¡¨ä¸­çš„ç›¸å…³æ•°æ®

**ç¤ºä¾‹åœºæ™¯**ï¼š
```
ä»ªè¡¨ç›˜åŒ…å«ï¼š
- å›¾è¡¨ Aï¼šå…¨å›½é”€å”®é¢æŸ±çŠ¶å›¾ï¼ˆæŒ‰çœä»½åˆ†ç»„ï¼‰
- å›¾è¡¨ Bï¼šäº§å“ç±»å‹å æ¯”é¥¼å›¾

æ“ä½œï¼šç‚¹å‡»å›¾è¡¨ A ä¸­çš„"å¹¿ä¸œçœ"æŸ±å½¢
ç»“æœï¼šå›¾è¡¨ B è‡ªåŠ¨ç­›é€‰æ˜¾ç¤º"å¹¿ä¸œçœ"çš„äº§å“ç±»å‹å æ¯”
```

**æŠ€æœ¯å®ç°**ï¼š
- ä½¿ç”¨ Plotly Dash çš„ `callback` æœºåˆ¶å®ç°è·¨ç»„ä»¶äº¤äº’
- å…¨å±€ç­›é€‰çŠ¶æ€ç®¡ç†ï¼ˆåŸºäº `dcc.Store`ï¼‰

#### 2.3.3 æ•°æ®ä¸‹é’»
**ä¼˜å…ˆçº§**ï¼šP1

**ä¸‹é’»å±‚çº§**ï¼š
- æ—¶é—´ç»´åº¦ï¼šå¹´ â†’ å­£åº¦ â†’ æœˆ â†’ å‘¨ â†’ æ—¥
- åœ°ç†ç»´åº¦ï¼šå›½å®¶ â†’ çœä»½ â†’ åŸå¸‚
- ä¸šåŠ¡ç»´åº¦ï¼šè‡ªå®šä¹‰å±‚çº§å…³ç³»ï¼ˆé€šè¿‡é…ç½®å®šä¹‰ï¼‰

**äº¤äº’æ–¹å¼**ï¼š
- åŒå‡»å›¾è¡¨å…ƒç´ è§¦å‘ä¸‹é’»
- æ˜¾ç¤ºé¢åŒ…å±‘å¯¼èˆªï¼ˆæ”¯æŒè¿”å›ä¸Šä¸€å±‚çº§ï¼‰

---

### 2.4 ä»ªè¡¨ç›˜ç®¡ç†

#### 2.4.1 ä»ªè¡¨ç›˜å¸ƒå±€
**ä¼˜å…ˆçº§**ï¼šP0

- **ç½‘æ ¼ç³»ç»Ÿ**ï¼š12 åˆ—æ …æ ¼å¸ƒå±€ï¼Œå›¾è¡¨å¯è‡ªç”±æ‹–æ‹½è°ƒæ•´ä½ç½®å’Œå¤§å°
- **è‡ªé€‚åº”**ï¼šæ”¯æŒæ¡Œé¢ç«¯å’Œå¹³æ¿ç«¯è‡ªåŠ¨é€‚é…
- **ç»„ä»¶ç±»å‹**ï¼š
  - å›¾è¡¨ç»„ä»¶ï¼ˆå…³è”å·²é…ç½®çš„å›¾è¡¨ï¼‰
  - ç­›é€‰å™¨ç»„ä»¶ï¼ˆæ—¶é—´/åˆ†ç±»ç­›é€‰å™¨ï¼Œå½±å“å…¨å±€æ•°æ®ï¼‰
  - æ–‡æœ¬ç»„ä»¶ï¼ˆæ ‡é¢˜/è¯´æ˜æ–‡å­—ï¼‰
  - æŒ‡æ ‡å¡ç‰‡ï¼ˆæ˜¾ç¤ºå•ä¸€ KPIï¼Œå¦‚æ€»é”€å”®é¢ï¼‰

#### 2.4.2 ä»ªè¡¨ç›˜æ“ä½œ
**ä¼˜å…ˆçº§**ï¼šP0

| åŠŸèƒ½ | è¯´æ˜ |
|-----|------|
| **æ–°å»º** | ç©ºç™½ä»ªè¡¨ç›˜æˆ–ä»æ¨¡æ¿åˆ›å»º |
| **ä¿å­˜** | ä¿å­˜é…ç½®ä¸º JSON æ–‡ä»¶ |
| **å¤åˆ¶** | å¤åˆ¶ç°æœ‰ä»ªè¡¨ç›˜å¹¶é‡å‘½å |
| **é¢„è§ˆ** | å…¨å±é¢„è§ˆæ¨¡å¼ |
| **åˆ†äº«** | å¯¼å‡ºä¸ºé™æ€ HTMLï¼ˆå†…åµŒæ•°æ®ï¼‰æˆ–ç”Ÿæˆè®¿é—®é“¾æ¥ |

---

### 2.5 å¯¼å‡ºä¸åˆ†äº«

#### 2.5.1 å¯¼å‡ºåŠŸèƒ½
**ä¼˜å…ˆçº§**ï¼šP0

| å¯¼å‡ºæ ¼å¼ | é€‚ç”¨åœºæ™¯ | æŠ€æœ¯æ–¹æ¡ˆ |
|---------|---------|---------|
| **å›¾ç‰‡ï¼ˆPNG/JPEGï¼‰** | ä¼šè®®æ±‡æŠ¥ | `plotly.write_image()` |
| **PDF** | æ‰“å°å­˜æ¡£ | `weasyprint` æˆ– `plotly` PDF å¯¼å‡º |
| **é™æ€ HTML** | ç¦»çº¿åˆ†äº« | Plotly Dash ç”Ÿæˆç‹¬ç«‹ HTMLï¼ˆæ— éœ€æœåŠ¡å™¨ï¼‰ |
| **æ•°æ®ï¼ˆCSVï¼‰** | åŸå§‹æ•°æ®å¯¼å‡º | æŒ‰å½“å‰ç­›é€‰æ¡ä»¶å¯¼å‡ºè¡¨æ ¼æ•°æ® |

#### 2.5.2 å®šæ—¶åˆ·æ–°ï¼ˆåŠ åˆ†é¡¹ï¼‰
**ä¼˜å…ˆçº§**ï¼šP2

- é…ç½®åˆ·æ–°é¢‘ç‡ï¼š5 åˆ†é’Ÿ/10 åˆ†é’Ÿ/30 åˆ†é’Ÿ/1 å°æ—¶
- æ”¯æŒæ•°æ®æºè‡ªåŠ¨é‡æ–°æ‹‰å–
- æ˜¾ç¤ºæœ€åæ›´æ–°æ—¶é—´æˆ³

---

## 3. éåŠŸèƒ½éœ€æ±‚

### 3.1 æ€§èƒ½è¦æ±‚

| æŒ‡æ ‡ | ç›®æ ‡å€¼ | æµ‹è¯•æ¡ä»¶ |
|-----|-------|---------|
| å›¾è¡¨åŠ è½½æ—¶é—´ | â‰¤ 3 ç§’ | 100 ä¸‡æ¡æ•°æ®ï¼Œèšåˆåå±•ç¤º |
| æ•°æ®æºè¿æ¥ | â‰¤ 5 ç§’ | è¿œç¨‹æ•°æ®åº“/API |
| ä»ªè¡¨ç›˜åˆ‡æ¢ | â‰¤ 1 ç§’ | æœ¬åœ°å·²ç¼“å­˜æ•°æ® |

**ä¼˜åŒ–ç­–ç•¥**ï¼š
- æ•°æ®åˆ†é¡µåŠ è½½ï¼ˆå‰ç«¯ä»…å±•ç¤ºèšåˆç»“æœï¼‰
- ä½¿ç”¨ `pandas` åˆ†å—è¯»å–ï¼ˆ`chunksize` å‚æ•°ï¼‰
- ç¼“å­˜ä¸­é—´ç»“æœï¼ˆåŸºäº `diskcache` æˆ– Redisï¼‰

### 3.2 å…¼å®¹æ€§

- **Python ç‰ˆæœ¬**ï¼šâ‰¥ 3.8
- **æµè§ˆå™¨**ï¼šChrome 90+ã€Edge 90+ã€Firefox 88+ï¼ˆä¸æ”¯æŒ IEï¼‰
- **æ“ä½œç³»ç»Ÿ**ï¼šWindows 10+ã€macOS 11+ã€Ubuntu 20.04+

### 3.3 å¯ç»´æŠ¤æ€§

- **ä»£ç è§„èŒƒ**ï¼š
  - éµå¾ª PEP 8
  - ä½¿ç”¨ `Black` æ ¼å¼åŒ–
  - å‡½æ•°/ç±»æ·»åŠ  docstring
- **é…ç½®åˆ†ç¦»**ï¼š
  - æ‰€æœ‰é…ç½®é€šè¿‡ `config.yaml` ç®¡ç†
  - æ•°æ®æºè¿æ¥ä¿¡æ¯æ”¯æŒç¯å¢ƒå˜é‡æ³¨å…¥ï¼ˆé¿å…ç¡¬ç¼–ç å¯†ç ï¼‰
- **æ—¥å¿—è®°å½•**ï¼š
  - ä½¿ç”¨ `logging` æ¨¡å—
  - è®°å½•æ•°æ®æºè¿æ¥ã€å›¾è¡¨ç”Ÿæˆã€å¼‚å¸¸ä¿¡æ¯

### 3.4 å®‰å…¨æ€§

- æ•°æ®åº“å¯†ç åŠ å¯†å­˜å‚¨ï¼ˆAES-256ï¼‰
- API è¯·æ±‚æ”¯æŒ OAuth 2.0 / API Key è®¤è¯
- æ–‡ä»¶ä¸Šä¼ é™åˆ¶å¤§å°ï¼ˆå•æ–‡ä»¶ â‰¤ 100MBï¼‰ã€ç±»å‹ï¼ˆä»…å…è®¸ CSV/Excelï¼‰

---

## 4. æŠ€æœ¯æ¶æ„

### 4.1 æŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯é€‰å‹ | è¯´æ˜ |
|-----|---------|------|
| **åç«¯æ¡†æ¶** | Plotly Dash | äº¤äº’å¼ Web åº”ç”¨æ¡†æ¶ |
| **æ•°æ®å¤„ç†** | pandas | æ•°æ®æ¸…æ´—ã€èšåˆã€è½¬æ¢ |
| **å¯è§†åŒ–** | Plotly | åŠ¨æ€äº¤äº’å¼å›¾è¡¨ |
| **æ•°æ®åº“è¿æ¥** | SQLAlchemy | ç»Ÿä¸€æ•°æ®åº“æ¥å£ |
| **æ–‡ä»¶å¤„ç†** | openpyxlã€xlrd | Excel è¯»å†™ |
| **é…ç½®ç®¡ç†** | PyYAML | YAML é…ç½®è§£æ |
| **å¯¼å‡ºåŠŸèƒ½** | kaleido | å›¾è¡¨å¯¼å‡ºä¸ºå›¾ç‰‡ |

### 4.2 ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å‰ç«¯å±‚ï¼ˆDash UIï¼‰                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚æ•°æ®æºé…ç½®â”‚  â”‚å›¾è¡¨è®¾è®¡å™¨â”‚  â”‚ä»ªè¡¨ç›˜ç¼–è¾‘â”‚  â”‚å¯¼å‡ºåˆ†äº« â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚ Callback äº¤äº’
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ä¸šåŠ¡é€»è¾‘å±‚ï¼ˆPythonï¼‰                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚æ•°æ®æºé€‚é…å™¨  â”‚  â”‚å›¾è¡¨ç”Ÿæˆå¼•æ“  â”‚  â”‚é…ç½®ç®¡ç†å™¨     â”‚ â”‚
â”‚  â”‚(Adapter)     â”‚  â”‚(ChartEngine) â”‚  â”‚(ConfigMgr)    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  æ•°æ®è®¿é—®å±‚ï¼ˆDALï¼‰                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚CSV/Excel â”‚  â”‚PostgreSQLâ”‚  â”‚  MySQL   â”‚  â”‚REST API â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 æ ¸å¿ƒæ¨¡å—è®¾è®¡

#### 4.3.1 æ•°æ®æºé€‚é…å™¨ï¼ˆDataSourceAdapterï¼‰
```python
class DataSourceAdapter:
    """ç»Ÿä¸€æ•°æ®æºæ¥å£"""
    
    def connect(self, config: dict) -> bool:
        """å»ºç«‹è¿æ¥"""
        
    def fetch_data(self, query: dict) -> pd.DataFrame:
        """è·å–æ•°æ®"""
        
    def get_schema(self) -> dict:
        """è·å–å­—æ®µä¿¡æ¯"""
```

**å®ç°ç±»**ï¼š
- `CSVAdapter`
- `DatabaseAdapter`ï¼ˆåŸºäº SQLAlchemyï¼‰
- `APIAdapter`

#### 4.3.2 å›¾è¡¨ç”Ÿæˆå¼•æ“ï¼ˆChartEngineï¼‰
```python
class ChartEngine:
    """å›¾è¡¨ç”Ÿæˆæ ¸å¿ƒé€»è¾‘"""
    
    def create_chart(self, data: pd.DataFrame, config: dict) -> go.Figure:
        """æ ¹æ®é…ç½®ç”Ÿæˆ Plotly å›¾è¡¨å¯¹è±¡"""
        
    def apply_filters(self, data: pd.DataFrame, filters: dict) -> pd.DataFrame:
        """åº”ç”¨ç­›é€‰æ¡ä»¶"""
        
    def aggregate_data(self, data: pd.DataFrame, agg_config: dict) -> pd.DataFrame:
        """æ•°æ®èšåˆ"""
```

#### 4.3.3 é…ç½®ç®¡ç†å™¨ï¼ˆConfigManagerï¼‰
```python
class ConfigManager:
    """é…ç½®æ–‡ä»¶è¯»å†™ä¸éªŒè¯"""
    
    def load_datasource_config(self, path: str) -> dict:
        """åŠ è½½æ•°æ®æºé…ç½®"""
        
    def save_dashboard_config(self, config: dict, path: str):
        """ä¿å­˜ä»ªè¡¨ç›˜é…ç½®"""
        
    def validate_config(self, config: dict) -> bool:
        """é…ç½®æ ¼å¼æ ¡éªŒ"""
```

---

## 5. é¡¹ç›®äº¤ä»˜

### 5.1 äº¤ä»˜ç‰©æ¸…å•

| ç±»å‹ | æ–‡ä»¶å | è¯´æ˜ |
|-----|-------|------|
| **æ ¸å¿ƒä»£ç ** | `bi_visual_analytics/` | Python Packageï¼ˆæ¨¡å—åŒ–è®¾è®¡ï¼‰ |
| **å¯åŠ¨è„šæœ¬** | `app.py` | Dash åº”ç”¨å…¥å£ |
| **é…ç½®æ¨¡æ¿** | `config/datasource_template.yaml` | æ•°æ®æºé…ç½®ç¤ºä¾‹ |
| | `config/dashboard_template.json` | ä»ªè¡¨ç›˜é…ç½®ç¤ºä¾‹ |
| **ä¾èµ–ç®¡ç†** | `requirements.txt` | Python ä¾èµ–æ¸…å• |
| | `setup.py` | Package å®‰è£…é…ç½® |
| **æ–‡æ¡£** | `README.md` | é¡¹ç›®è¯´æ˜ã€å¿«é€Ÿå¼€å§‹ |
| | `docs/API.md` | API æ¥å£æ–‡æ¡£ |
| | `docs/USER_GUIDE.md` | ç”¨æˆ·ä½¿ç”¨æ‰‹å†Œ |
| **æµ‹è¯•** | `tests/` | å•å…ƒæµ‹è¯•ï¼ˆè¦†ç›–ç‡ â‰¥ 70%ï¼‰ |

### 5.2 ç›®å½•ç»“æ„
```
BIVisualAnalyticsPlatform/
â”œâ”€â”€ bi_visual_analytics/          # æ ¸å¿ƒ Package
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ adapters/                 # æ•°æ®æºé€‚é…å™¨
â”‚   â”‚   â”œâ”€â”€ base.py
â”‚   â”‚   â”œâ”€â”€ csv_adapter.py
â”‚   â”‚   â”œâ”€â”€ db_adapter.py
â”‚   â”‚   â””â”€â”€ api_adapter.py
â”‚   â”œâ”€â”€ charts/                   # å›¾è¡¨ç”Ÿæˆå¼•æ“
â”‚   â”‚   â”œâ”€â”€ chart_engine.py
â”‚   â”‚   â”œâ”€â”€ line_chart.py
â”‚   â”‚   â”œâ”€â”€ bar_chart.py
â”‚   â”‚   â””â”€â”€ pie_chart.py
â”‚   â”œâ”€â”€ dashboard/                # ä»ªè¡¨ç›˜ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ layout_manager.py
â”‚   â”‚   â””â”€â”€ export_handler.py
â”‚   â”œâ”€â”€ utils/                    # å·¥å…·ç±»
â”‚   â”‚   â”œâ”€â”€ config_manager.py
â”‚   â”‚   â”œâ”€â”€ data_validator.py
â”‚   â”‚   â””â”€â”€ logger.py
â”‚   â””â”€â”€ components/               # Dash UI ç»„ä»¶
â”‚       â”œâ”€â”€ datasource_ui.py
â”‚       â”œâ”€â”€ chart_designer.py
â”‚       â””â”€â”€ filter_panel.py
â”œâ”€â”€ app.py                        # ä¸»åº”ç”¨å…¥å£
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ datasource_template.yaml
â”‚   â””â”€â”€ dashboard_template.json
â”œâ”€â”€ data/                         # ç¤ºä¾‹æ•°æ®
â”‚   â””â”€â”€ sample_sales.csv
â”œâ”€â”€ tests/                        # æµ‹è¯•ç”¨ä¾‹
â”‚   â”œâ”€â”€ test_adapters.py
â”‚   â””â”€â”€ test_charts.py
â”œâ”€â”€ docs/                         # æ–‡æ¡£
â”‚   â”œâ”€â”€ API.md
â”‚   â””â”€â”€ USER_GUIDE.md
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ setup.py
â””â”€â”€ README.md
```

### 5.3 æ ¸å¿ƒ API ç¤ºä¾‹

#### æ•°æ®æºæ¥å…¥
```python
from bi_visual_analytics.adapters import CSVAdapter

adapter = CSVAdapter()
adapter.connect({"file_path": "data/sales.csv"})
data = adapter.fetch_data()
```

#### å›¾è¡¨ç”Ÿæˆ
```python
from bi_visual_analytics.charts import ChartEngine

engine = ChartEngine()
fig = engine.create_chart(
    data=df,
    config={
        "type": "line",
        "x": "date",
        "y": "revenue",
        "title": "æœˆåº¦æ”¶å…¥è¶‹åŠ¿"
    }
)
fig.show()
```

#### ä»ªè¡¨ç›˜å¯åŠ¨
```python
# app.py
from bi_visual_analytics.dashboard import DashboardApp

app = DashboardApp()
app.load_config("config/my_dashboard.json")
app.run(port=8050)
```

---

## 6. å¼€å‘è®¡åˆ’

### 6.1 é‡Œç¨‹ç¢‘ï¼ˆæ•æ·è¿­ä»£ï¼‰

| ç‰ˆæœ¬ | åŠŸèƒ½èŒƒå›´ | äº¤ä»˜æ—¶é—´ |
|-----|---------|---------|
| **v0.1 MVP** | CSV æ¥å…¥ + æŠ˜çº¿å›¾/æŸ±çŠ¶å›¾ + åŸºç¡€ä»ªè¡¨ç›˜ | 2 å‘¨ |
| **v0.2** | æ•°æ®åº“æ¥å…¥ + è¡¨æ ¼/é¥¼å›¾ + æ—¶é—´ç­›é€‰ | 1 å‘¨ |
| **v0.3** | API æ¥å…¥ + å›¾è¡¨è”åŠ¨ + å¯¼å‡º PNG/PDF | 1 å‘¨ |
| **v1.0 æ­£å¼ç‰ˆ** | æ•°æ®ä¸‹é’» + å®šæ—¶åˆ·æ–° + å®Œæ•´æ–‡æ¡£ | 1 å‘¨ |

### 6.2 é£é™©ä¸åº”å¯¹

| é£é™© | å½±å“ | åº”å¯¹æªæ–½ |
|-----|------|---------|
| å¤§æ•°æ®é‡æ€§èƒ½é—®é¢˜ | é«˜ | å¼•å…¥æ•°æ®é‡‡æ ·ã€åˆ†é¡µåŠ è½½ã€ç¼“å­˜æœºåˆ¶ |
| å¤æ‚ SQL æŸ¥è¯¢æ”¯æŒ | ä¸­ | V1.0 ä»…æ”¯æŒç®€å•æŸ¥è¯¢ï¼Œå¤æ‚åœºæ™¯é€šè¿‡è§†å›¾ç®€åŒ– |
| è·¨æµè§ˆå™¨å…¼å®¹æ€§ | ä½ | é‡ç‚¹æµ‹è¯• Chrome/Edgeï¼Œä¸æ”¯æŒæ—§ç‰ˆæµè§ˆå™¨ |

---

## 7. éªŒæ”¶æ ‡å‡†

### 7.1 åŠŸèƒ½éªŒæ”¶

- [ ] æ”¯æŒè‡³å°‘ 2 ç§æ•°æ®æºï¼ˆCSV + PostgreSQL/MySQLï¼‰
- [ ] æ”¯æŒè‡³å°‘ 5 ç§å›¾è¡¨ç±»å‹ï¼ˆæŠ˜çº¿/æŸ±çŠ¶/é¥¼å›¾/è¡¨æ ¼/ç»„åˆå›¾ï¼‰
- [ ] å®ç°æ—¶é—´ç­›é€‰å™¨ï¼ˆå¿«æ·é€‰é¡¹ + è‡ªå®šä¹‰èŒƒå›´ï¼‰
- [ ] å®ç°å›¾è¡¨è”åŠ¨ï¼ˆç‚¹å‡» A å›¾è¡¨ç­›é€‰ B å›¾è¡¨ï¼‰
- [ ] ä»ªè¡¨ç›˜å¯å¯¼å‡ºä¸º PNG/PDF/HTML
- [ ] 100 ä¸‡æ¡æ•°æ®ä¸‹å›¾è¡¨åŠ è½½ â‰¤ 3 ç§’

### 7.2 ä»£ç è´¨é‡éªŒæ”¶

- [ ] å•å…ƒæµ‹è¯•è¦†ç›–ç‡ â‰¥ 70%
- [ ] æ‰€æœ‰é…ç½®å¤–éƒ¨åŒ–ï¼ˆæ— ç¡¬ç¼–ç è¿æ¥ä¿¡æ¯ï¼‰
- [ ] ä»£ç é€šè¿‡ `flake8` æ£€æŸ¥ï¼ˆæ— ä¸¥é‡å‘Šè­¦ï¼‰
- [ ] æä¾›å®Œæ•´ API æ–‡æ¡£ä¸ç”¨æˆ·æ‰‹å†Œ

### 7.3 æ˜“ç”¨æ€§éªŒæ”¶

- [ ] éæŠ€æœ¯äººå‘˜å¯åœ¨ 10 åˆ†é’Ÿå†…å®Œæˆï¼šæ•°æ®æ¥å…¥ â†’ å›¾è¡¨ç”Ÿæˆ â†’ ä»ªè¡¨ç›˜å¯¼å‡º
- [ ] æ‰€æœ‰æ“ä½œæœ‰æ˜ç¡®åé¦ˆï¼ˆåŠ è½½æç¤ºã€é”™è¯¯æç¤ºï¼‰
- [ ] å…³é”®åŠŸèƒ½æœ‰æ“ä½œå¼•å¯¼ï¼ˆTooltip æˆ–å¸®åŠ©æ–‡æ¡£ï¼‰

---

## 8. é™„å½•

### 8.1 å‚è€ƒç«å“

| äº§å“ | ç‰¹ç‚¹ | å€Ÿé‰´ç‚¹ |
|-----|------|--------|
| **Tableau Public** | å¼ºå¤§ä½†å¤æ‚ | æ‹–æ‹½å¼é…ç½®ã€å›¾è¡¨è”åŠ¨ |
| **Metabase** | è½»é‡çº§å¼€æº | ç®€æ´çš„æ•°æ®æºé…ç½® |
| **Superset** | åŠŸèƒ½ä¸°å¯Œ | å›¾è¡¨ç±»å‹å¤šæ ·æ€§ |

### 8.2 æœ¯è¯­è¡¨

| æœ¯è¯­ | å®šä¹‰ |
|-----|------|
| **æ•°æ®ä¸‹é’»** | ä»æ±‡æ€»æ•°æ®æ·±å…¥åˆ°æ˜ç»†æ•°æ®çš„è¿‡ç¨‹ |
| **å›¾è¡¨è”åŠ¨** | å¤šä¸ªå›¾è¡¨åŸºäºåŒä¸€ç­›é€‰æ¡ä»¶åŒæ­¥æ›´æ–° |
| **èšåˆå‡½æ•°** | å¯¹å¤šè¡Œæ•°æ®è¿›è¡Œè®¡ç®—å¾—åˆ°å•ä¸€å€¼ï¼ˆå¦‚æ±‚å’Œã€å¹³å‡ï¼‰ |

### 8.3 æ›´æ–°æ—¥å¿—

| ç‰ˆæœ¬ | æ—¥æœŸ | å˜æ›´å†…å®¹ |
|-----|------|---------|
| v1.0 | 2025-11-10 | åˆå§‹ç‰ˆæœ¬ï¼Œå®šä¹‰æ ¸å¿ƒåŠŸèƒ½ä¸æ¶æ„ |

---

**æ–‡æ¡£ç»“æŸ**

